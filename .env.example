# =============================================================================
# EVAonline - Template de Configuração (COPIE PARA .env OU .env.NOMEDOAMBIENTE)
# =============================================================================
#  INSTRUÇÕES:
# 1. Copie este arquivo para .env (desenvolvimento local)
# 2. Customize os valores para seu ambiente
# 3.   NUNCA commite .env ou .env.* (exceto .env.example)!
# 4. Adicione .env e .env.* ao .gitignore
# 5. Para prod, gere passwords fortes (ex.: pwgen -s 32 1 ou openssl rand -hex 32)

# =============================================================================
# AMBIENTE
# =============================================================================
ENVIRONMENT=development
DEBUG=True
PYTHONUNBUFFERED=1
PYTHONUTF8=1

# =============================================================================
# BANCO DE DADOS (PostgreSQL)
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=evaonline
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=evaonline

# Connection Pooling
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your-secure-redis-password-here

REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=10
REDIS_SOCKET_CONNECT_TIMEOUT=5

# =============================================================================
# CELERY
# =============================================================================
CELERY_BROKER_URL=redis://:your-secure-redis-password-here@redis:6379/0
CELERY_RESULT_BACKEND=redis://:your-secure-redis-password-here@redis:6379/0
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# =============================================================================
# CACHE
# =============================================================================
CACHE_TTL=1800
CACHE_SHORT_TTL=300
CACHE_LONG_TTL=3600
CACHE_ENABLED=True
CACHE_COMPRESSION=False
CACHE_KEY_PREFIX=evaonline

# =============================================================================
# EXTERNAL APIs
# =============================================================================
# Open-Meteo (Weather Forecast & Archive)
OPENMETEO_FORECAST_URL=https://api.open-meteo.com/v1/forecast
OPENMETEO_ARCHIVE_URL=https://archive-api.open-meteo.com/v1/archive
OPENMETEO_TIMEOUT=10
OPENMETEO_MAX_RETRIES=3

# NASA POWER (Daily Climate Data)
NASA_POWER_URL=https://power.larc.nasa.gov/api/temporal/daily/point
NASA_POWER_TIMEOUT=15
NASA_POWER_MAX_RETRIES=3

# Met.no (Norway Meteorological Institute)
MET_NORWAY_URL=https://api.met.no/weatherapi/locationforecast/2.0/complete
MET_NORWAY_TIMEOUT=10
MET_NORWAY_MAX_RETRIES=3

# NWS (USA Weather Service)
NWS_BASE_URL=https://api.weather.gov
NWS_TIMEOUT=10
NWS_MAX_RETRIES=3

# External APIs General Settings
EXTERNAL_API_RATE_LIMIT=1000
EXTERNAL_API_REQUEST_TIMEOUT=20

# =============================================================================
# MONITORAMENTO & LOGGING
# =============================================================================
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=8001

LOG_LEVEL=DEBUG
LOG_FORMAT=console

HEALTH_CHECK_ENDPOINT=/api/v1/health
READINESS_ENDPOINT=/api/v1/ready

# =============================================================================
# SEGURANÇA
# =============================================================================
BACKEND_CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=True

RATE_LIMIT_ENABLED=False
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60

SECRET_KEY=dev-secret-key-change-in-production-min-32-chars

# =============================================================================
# PERFORMANCE
# =============================================================================
API_MAX_CONNECTIONS=50
API_TIMEOUT=30

# =============================================================================
# TIMEZONE & LOCALE
# =============================================================================
TZ=America/Sao_Paulo
LANG=pt_BR.UTF-8
LC_ALL=pt_BR.UTF-8

# =============================================================================
# DASH
# =============================================================================
DASH_URL_BASE_PATHNAME=/
DASH_ASSETS_FOLDER=frontend/assets
DASH_COMPRESS_ASSETS=False
DASH_INCLUDE_ASSETS_FILES=True
DASH_DEBUG=True
FASTAPI_RELOAD=True

# =============================================================================
# SERVIÇO
# =============================================================================
SERVICE=api
API_BASE_URL=http://localhost:8000

# =============================================================================
# DOCKER
# =============================================================================
COMPOSE_PROJECT_NAME=evaonline_temp
